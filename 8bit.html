<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Mundo 8-bit</title>
<style>
  body{margin:0;background:#0b1b2b;display:flex;align-items:center;justify-content:center;height:100vh;color:#fff;font-family:monospace}
  #game{width:640px;height:180px;background:#7ec0ee;position:relative;overflow:hidden;border:8px solid #000}
  .player{width:20px;height:20px;background:#ffeb3b;position:absolute;left:60px;bottom:20px}
  .ob{width:20px;height:20px;background:#111;position:absolute;right:-20px;bottom:20px;animation:move 2s linear infinite}
  @keyframes move{from{right:-20px} to{right:660px}}
  #score{margin-top:12px}
</style>
</head>
<body>
  <div>
    <div id="game">
      <div class="player" id="player"></div>
      <div class="ob" id="ob"></div>
    </div>
    <div id="score">Puntuación: <span id="pts">0</span> — Pulsa ESPACIO para saltar</div>
  </div>
<script>
  const player = document.getElementById('player');
  const ob = document.getElementById('ob');
  const ptsEl = document.getElementById('pts');
  let jumping=false, score=0;

  function jump(){
    if(jumping) return;
    jumping = true;
    let up=0;
    const int = setInterval(()=> {
      up+=8;
      player.style.bottom = 20 + up + 'px';
      if(up>=80){ clearInterval(int); fall(); }
    },16);
    function fall(){
      const down = setInterval(()=> {
        up-=8;
        player.style.bottom = 20 + up + 'px';
        if(up<=0){ clearInterval(down); jumping=false;}
      },16);
    }
  }

  document.body.onkeydown = (e)=> {
    if(e.code === 'Space') { e.preventDefault(); jump(); }
  }

  // collision + scoring
  setInterval(()=> {
    const obRect = ob.getBoundingClientRect();
    const pRect = player.getBoundingClientRect();
    if(!(obRect.right < pRect.left || obRect.left > pRect.right || obRect.bottom < pRect.top || obRect.top > pRect.bottom)){
      alert('Te chocaste! Puntuación: ' + score);
      score = 0;
      ptsEl.textContent = score;
    }
    // increase score slowly
    score++;
    ptsEl.textContent = score;
  },200);
</script>
</body>
</html>
